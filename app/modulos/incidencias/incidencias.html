<div class="container-fluid" style="text-align:center; margin-top: 40px;">
    <div class="jumbotron row" style="padding: 10px 10px 5px 10px">
        <p class="text-left">Categoría:</p>
        <div class="col-xs-6 col-sm-3" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {categoria:'Soporte'}).length}} <p>Soporte</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-3" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {categoria:'Queja'}).length}} <p>Quejas</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-3" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {categoria:'Petición'}).length}} <p>Peticiones</p></h3>                
            </button>
        </div>
        <div class="col-xs-6 col-sm-3" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {categoria:'Reclamo'}).length}} <p>Reclamos</p></h3>
            </button>
        </div>
    </div>

    <div class="jumbotron row" style="padding: 10px 10px 5px 10px">
        <p class="text-left">Etapa:</p>
        <div class="col-xs-6 col-sm-4 col-md-2" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {etapa:'Registrada'}).length}} <p>Registrada</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {etapa:'En Cola'}).length}} <p>En Cola</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {etapa:'Investigando'}).length}} <p>Investigando</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {etapa:'Esperando'}).length}} <p>Esperando</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {etapa:'Resuelta'}).length}} <p>Resuelta</p></h3>
            </button>
        </div>
        <div class="col-xs-6 col-sm-4 col-md-2" style="padding:0">
            <button class="btn btn-default btn-block">
                <h3>{{(casos | filter: {etapa:'Confirmada'}).length}} <p>Confirmada</p></h3>
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-12" style="padding:0">
            <div class="col-xs-12 jumbotron" style="padding: 5px 10px" cg-busy="casosPromise">
                <table class="table table-condensed table-striped" style="text-align:left">
                    <thead>
                        <tr>
                            <th>Etapa</th>
                            <th>Prioridad</th>
                            <th>Categoría</th>
                            <th>Descripcion</th>
                            <th>Remite</th>
                            <th>Encargado</th>
                            <th>Creado</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="caso in casos" ng-class="{'danger':caso.prioridad=='Alta', 'warning':caso.prioridad=='Media'}">
                            <td>{{caso.etapa}}</td>
                            <td>{{caso.prioridad}}</td>
                            <td>{{caso.categoria}}</td>
                            <td class="col-md-3">{{caso.descripcion | limitTo: 42}}{{caso.descripcion.length > 42 ? '...' : ''}}</td>
                            <td class="col-md-2">{{caso.empresa.nombre}}</td>
                            <td class="col-md-2">{{caso.persona.nombre}}</td>
                            <td>{{caso.fechaCreacion}}</td>
                            <td><a href="#/incidencia/{{caso.id.$oid}}" class="btn-sm" style="margin:0">Abrir</a></td>
                        </tr>
                    </tbody>
                </table>
                <div class="container-fluid" ng-show="error">
                    <h2>No hay incidencias registradas en el sistema.</h2><br>
                </div>
            </div>
        </div>
        <!--
        <div class="col-sm-3" style="padding-right:0">
            <div class="col-xs-12 jumbotron">
                
            </div>
        </div>
        -->
    </div>
</div>
<link rel="stylesheet" href="/modulos/incidencias/incidencias.css">